function Fun = myfun(x)
%% known variables

TV0 = 125;      % °C
F = 25;         % kg/s
xF = 14.781;    % g/kg of solution
TF = 50;        % °C
Tsw = 22;       % °C
P = 9;          % kg/s
dT = 6;         % °C
BPE = 0.5;      % °C
dTfric = 0.5;   % °C

%% equations measuring other known (dependant) variables

HVm = 2890; %kJ/kg read from steam table instead of a state equation
% PV0 = 22089*exp((647.286/(TV0+273.15) - 1)*(-7.419242 + 0.29721*(0.01*(TV0+273.15-338.15)) - 0.1155286*(0.01*(TV0+273.15-338.15))^2 + 0.008685635*(0.01*(TV0+273.15-338.15))^3));
TD1 = TV0;
Hsw = -0.033635409 + 4.207557011*Tsw - 6.200339e-4*Tsw^2 + 4.459374e-6*Tsw^3 - xF*(-2.348e10 + 3.152e5*xF + 2.308e6*xF^2 - 1.446e7*xF^3 + 7.826e3*Tsw - 4.417e1*Tsw^2 + 2.139e-1*Tsw^3 - 1.991e4*xF*Tsw + 2.778e4*xF^2*Tsw + 9.728e1*xF*Tsw^2);
HF = -0.033635409 + 4.207557011*TF - 6.200339e-4*TF^2 + 4.459374e-6*TF^3 - xF*(-2.348e10 + 3.152e5*xF + 2.308e6*xF^2 - 1.446e7*xF^3 + 7.826e3*TF - 4.417e1 * TF^2 + 2.139e-1*TF^3 - 1.991e4*xF*TF + 2.778e4*xF^2*TF + 9.728e1*xF*TF^2);
HV0 = 2501.689845 + 1.806916015*TV0 + 5.087717e-4*TV0^2 - 1.1221e-5*TV0^3;
HD1 = -0.033635409 + 4.207557011*TD1 - 6.200339e-4*TD1^2 + 4.459374e-6*TD1^3;

%% main equations

Fun = [x(1) + x(2) - x(6);
      x(1)*HVm + x(2)*x(3) - x(6)*HV0;
      x(2) - x(1);
      x(6) - x(7);
      F - x(10) - x(5) - x(2);
      F*xF - x(10)*x(11);
      x(6)*HV0 + F*HF - (x(2)+x(5))*x(3) - x(7)*HD1 - x(10)*x(12);
      P - x(5) - x(7);
      x(5)*x(8) + x(7)*HD1 - P*x(9);
      x(5)*x(3) + F*Hsw - x(5)*x(8) - F*HF;
      x(4) - x(13) + BPE + dTfric;
      x(3) - 2501.689845 - 1.806916015*x(4) - 5.087717e-4*x(4)^2 + 1.1221e-5*x(4)^3;
      x(12) + 0.033635409 - 4.207557011*x(13) + 6.200339e-4*x(13)^2 - 4.459374e-6*x(13)^3 + x(11)*(-2.348e10 + 3.152e5*x(11) + 2.308e6*x(11)^2 - 1.446e7*x(11)^3 + 7.826e3*x(13) - 4.417e1*x(13)^2 + 2.139e-1*x(13)^3 - 1.991e4*x(11)*x(13) + 2.778e4*x(11)^2*x(13) + 9.728e1*x(11)*x(13)^2);
      dT - (TV0 - x(4) - TD1 + TF)/log((TV0 - x(4))/(TD1 - TF));
      % log(PV1/22089) - (647.286/(x(4)+273.15) - 1)*(-7.419242 + 0.29721*(0.01*(x(4)+273.15-338.15)) - 0.1155286*(0.01*(x(4)+273.15-338.15))^2 + 0.008685635*(0.01*(x(4)+273.15-338.15))^3);
      ];

end